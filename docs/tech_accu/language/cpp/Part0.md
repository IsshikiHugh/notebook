# [pre] å‰ç½®ä¸æ‚é¡¹

## [1.x] å¼•ç”¨reference

**1.åˆ›å»ºbindingå…³ç³»**

> éœ€è¦ç†è§£çš„æ˜¯ï¼Œå¼•ç”¨æœ¬è´¨å°±æ˜¯æŒ‡é’ˆã€‚å®ƒæ˜¯æŒ‡é’ˆçš„ç³–ã€‚

`typename & refname = name;` åˆ›å»ºäº† `(typename)name` çš„å¼•ç”¨ `(reference)refname`

åœ¨bingdingå…³ç³»å»ºç«‹åï¼Œåœ¨ `name` å’Œ `refname` çš„ä½œç”¨åŸŸå†… `refname` å’Œ `name` åŸºæœ¬ç­‰æ•ˆï¼ˆæ˜¯å˜é‡çš„ç»‘å®šå…³ç³»ï¼Œè€Œéåƒ `#define` é‚£æ ·çš„å­—ç¬¦æ›¿æ¢å…³ç³»

- ä¸€èˆ¬æ¥è¯´(ä¸è€ƒè™‘const+reference)èƒ½åˆ›å»ºçš„å¼•ç”¨çš„å¿…é¡»æ˜¯ä¸ªå˜é‡ï¼Œè€Œä¸èƒ½æ˜¯ä¸ªè¡¨è¾¾å¼ã€å¸¸é‡ã€‚
    - æ¢å¥è¯è¯´ï¼Œåªèƒ½ç»™**å·¦å€¼(left value)**åˆ›å»ºå¼•ç”¨
**ç‰¹åˆ«çš„ï¼š**

```cpp
int x = 1, y = 10, *p = &x, &ref = *p;
// æ­¤æ—¶ x = 1, y = 10, *p = 1, ref = 1

*p = 2;
// æ­¤æ—¶ x = 2, y = 10, *p = 2, ref = 2

p = &y;
// æ­¤æ—¶ x = 2, y = 10, *p = 10, ref = 2
```

- å¼•ç”¨åœ¨åˆ›å»ºçš„æ—¶å€™**å¿…é¡»åˆå§‹åŒ–**ï¼Œå³`int &x;`é”™è¯¯ï¼›`int &x = y;`æ­£ç¡®ã€‚
- **Bindingsä¸€æ—¦å»ºç«‹ï¼Œæ— æ³•å–æ¶ˆ**
- referenceæœ¬è´¨ä¸Šå°±æ˜¯å—é™çš„pointer
  - referenceä¸å­˜åœ¨reference
  - referenceä¸å­˜åœ¨pointer
     - å®šä¹‰`int *p = &x;`
     - `int&* ref = ...;`éæ³•ï¼Œ`ref`ä¸èƒ½æ˜¯ä¸€ä¸ªå¼•ç”¨çš„æŒ‡é’ˆ
     - `int*& ref = p;`åˆæ³•ï¼Œ`ref`æ˜¯ä¸€ä¸ªæŒ‡é’ˆçš„å¼•ç”¨
  - ä¸å­˜åœ¨referenceæ•°ç»„
  
**2.åˆ©ç”¨referenceä¼ å‚**

åˆ©ç”¨referenceå¯ä»¥**ç±»ä¼¼ä¼ æŒ‡é’ˆ**ä¸€æ ·ï¼Œåœ¨å˜é‡**åŸæœ¬çš„ä½œç”¨åŸŸå¤–**å¯¹å˜é‡è¿›è¡Œä¿®æ”¹

```cpp
void f(int &x){
	x = 1;
}

int main(){
	int p = 0;
    // æ­¤æ—¶ p = 0
    f(p);
    // æ­¤æ—¶ p = 1
}
```

ä½†æ­¤æ—¶ï¼Œä¼ å…¥ `f(p)` çš„å®å‚ `p` å¿…é¡»ä¸ºä¸€ä¸ªå˜é‡ï¼Œä¸å¯ä»¥æ˜¯å¸¸é‡ã€è¡¨è¾¾å¼ç­‰ã€‚

**3.`reference` ä¸ `const`**

è¿›è¡Œ `const int &refA = A;` æ“ä½œåï¼Œæˆ‘ä»¬å‘ç° `refA` **ä¸å¯ä¿®æ”¹**ï¼Œä½† `A` **å¯ä»¥ä¿®æ”¹**

å¦‚æœ `A` å¦‚æ­¤å®šä¹‰ï¼š`const int A = 1;`ï¼Œé‚£ä¹ˆï¼š

- `int &refA = A;`éæ³•
- `const int &refA = A;`åˆæ³•
- `const int &refA = 1;`åˆæ³•
- å‡½æ•°ä¼ å‚åŒç†

---

## [2.x] èŒƒå›´è§£æè¿ç®—ç¬¦resolver

- `<Class Name>::<Function Name>` è¡¨ç¤ºè¿™ä¸ª `<Function Name>` æ˜¯ä¸è‡ªç”±çš„ï¼Œå±äº `<Class Name>`çš„ï¼›
- `::<Function Name>` è¡¨ç¤ºè¿™ä¸ª `<Function Name>`æ˜¯å…¨å±€å˜é‡ä¸­çš„è‡ªç”±å‡½æ•°ï¼ˆå˜é‡åŒç†ï¼‰ï¼›


```cpp
#include<iostream>
using namespace std;

class S{
    public:
		void f();
    private:
    	int a;
};

int a;

void f(){
	cout << "qwq\n";
}

void S::f(){ // è¿™é‡Œæ­£åœ¨å®šä¹‰ä¸€ä¸ªå±äºç±»Sçš„çš„å‡½æ•°
    ++a;     // è¿™é‡Œå¯¹ä¸€ä¸ªç±»Sçš„æˆå‘˜å˜é‡aè¿›è¡Œäº†è‡ªå¢æ“ä½œ
	::f();   // è¿™é‡Œè°ƒç”¨äº†ä¸€ä¸ªå…¨å±€ä¸‹çš„è‡ªç”±å‡½æ•°
    ++::a;   // è¿™é‡Œå¯¹ä¸€ä¸ªå…¨å±€å˜é‡aè¿›è¡Œäº†è‡ªå¢æ“ä½œ
    cout << a << " " << ::a << "\n";
}

int main(){
	S k;
	k.f(); 
}
```

- ç±»çš„é™æ€å˜é‡å±äºç±»ä¸å±äºå®ä¾‹ï¼Œä¸èƒ½é€šè¿‡æ­£å¸¸çš„æ–¹å¼åˆå§‹åŒ–ï¼Œå¯ä»¥ç”¨è¿‡èŒƒå›´è§£æè¿ç®—ç¬¦åœ¨å…¨å±€åˆå§‹åŒ–
  - å®é™…ä¸Šï¼Œç¼–è¯‘å™¨å°†å¯¹è±¡å¯¹é™æ€å˜é‡çš„è®¿é—®è‡ªåŠ¨è½¬æ¢æˆäº†ç±»å¯¹é™æ€å˜é‡çš„è®¿é—®ã€‚å› æ­¤ï¼Œå»ºè®®å§‹ç»ˆä½¿ç”¨`className::staticVar`è®¿é—®é™æ€å˜é‡_(_[_xxjjåœ¨è¿™é‡Œè¯´çš„_](https://www.yuque.com/xianyuxuan/coding/cpp-oop#5TeQ9)_)_


## [3.x] å‡½æ•°çš„é‡è½½Overload

å¯ä»¥å­˜åœ¨**å‡½æ•°åç›¸åŒ**ä½†æ˜¯**å‚æ•°è¡¨ä¸åŒ**çš„å¤šä¸ªå‡½æ•°ï¼Œå³å‡½æ•°çš„é‡è½½ã€‚

ç±»ä¼¼Golangçš„interfaceï¼Œå‚æ•°è¡¨å®Œå…¨ç¬¦åˆå“ªä¸ªå°±æ‰§è¡Œå“ªä¸ª(å‡ºç°æ­§ä¹‰æ—¶ä¼šæŠ›å‡ºé”™è¯¯)

```cpp
int k(int x){ return x; }

char k(long x){ return 'a'; }

int main(){
	cout << k(1L);   // è¾“å‡ºï¼ša
	cout << k(1);    // è¾“å‡ºï¼š1
}
```

- overloadä¸æ”¯æŒè‡ªåŠ¨ç±»å‹è½¬æ¢

## [4.x] å‡½æ•°çš„é»˜è®¤å‚æ•°Default Argument


å½¢å¼ï¼š`void fun(int a = 0);`

- æ­¤æ—¶è°ƒç”¨`fun()`å¯ä»¥çœç•¥å­˜åœ¨é»˜è®¤å‚æ•°çš„å‚æ•°
- ä½†æ˜¯ä¸å­˜åœ¨é»˜è®¤å€¼çš„å‚æ•°å¿…é¡»åœ¨å­˜åœ¨é»˜è®¤å€¼çš„å‚æ•°å‰é¢
  - `void fun(int x, int a = 0);`åˆæ³•
  - `void fun(int x = 0, int a);`éæ³•
  - å¦‚æœåŒæ—¶å­˜åœ¨å‡½æ•°å£°æ˜å’Œå‡½æ•°bodyï¼Œåˆ™åœ¨è¿™ä¸¤éƒ¨åˆ†ä¸­Default Argumentåªèƒ½åœ¨å…¶ä¸­ä¸€ä¸ª

```cpp
// åˆæ³•
void fun(int x,int y);

void fun(int x = 1,int y = 2){
	// ...
}
```

```cpp
// éæ³•ï¼Œå› ä¸ºxä¸èƒ½åœ¨yå‰
void fun(int x = 1,int y); 

void fun(int x,int y = 2){
	// ...
}
```

```cpp
// åˆæ³•
void fun(int x = 1,int y = 2);

void fun(int x,int y){
	// ...
}
```

## [5.x] å†…è”å‡½æ•°`inline`

ä¸»è¦ä½œç”¨æ˜¯åœ¨å‡½æ•°ä¼˜åŒ–ä¸Šï¼Œæ•ˆæœæ˜¯ç‰ºç‰²ç©ºé—´æ¢æ•ˆç‡ï¼Œé€‚ç”¨äºçŸ­å°ä¸”é¢‘ç¹ä½¿ç”¨çš„å‡½æ•°ä»£ç 

å®ç°å°±æ˜¯ç¼–è¯‘å™¨æŠŠå‡½æ•°å†…å®¹è´´åˆ°è°ƒç”¨å‡½æ•°çš„åœ°æ–¹æ¥å‡å°‘æ ˆæ¶ˆè€—

- `inline`ä»…ä»…æ˜¯å¯¹ç¼–è¯‘å™¨çš„ä¸€ä¸ª**å»ºè®®**
- [ğŸ”—](https://www.yuque.com/xianyuxuan/coding/cpp-oop#1wQNV)**å¼•ç”¨ä¸€ä¸‹xxjjçš„æ–‡ç« **
- éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`inline`æ˜¯åœ¨æ¯ä¸€ä¸ªç¼–è¯‘å•å…ƒä¸­è¿›è¡Œçš„ï¼Œæ‰€ä»¥è¿™å°±å¯¼è‡´äº†å†…è”å‡½æ•°çš„åŸå‹åº”å½“èƒ½ç›´æ¥è¢«è°ƒç”¨è¯¥å‡½æ•°çš„æ–‡ä»¶è®¿é—®åˆ°ã€‚
  - eg.
     - åœ¨`a.cpp`ä¸­è°ƒç”¨`f();`å¹¶`#include "b.h"`
     - åœ¨`b.h`ä¸­å£°æ˜`inline void f();`
     - åœ¨`b.cpp`ä¸­å†™æ˜`f()`çš„body
  - ç»“æœå°±æ˜¯ä¼šç¼–è¯‘é”™è¯¯â€”â€”éœ€è¦å°†`f()`çš„bodyæ”¾åˆ°`a.cpp`æˆ–è€…`b.h`ä¸­æ‰å¯ä»¥â€”â€”å› ä¸ºåœ¨ç¼–è¯‘çš„æ—¶å€™`a.cpp`ä»…å’Œ`b.h`ä¸€èµ·ç¼–è¯‘ï¼Œå¹¶ä¸çŸ¥é“`f()`çš„bodyåœ¨å“ªé‡Œï¼Œæ— æ³•è¿›è¡Œâ€œå†…è”â€
  - `inline`ä¸ å® å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯æœ‰ä¸€äº›åŒºåˆ«ï¼š
  
![](img/1642312833741-e9e2f45f-eaf4-4927-a397-80e199caa42a.png)

- åšçš„äº‹æƒ…æ˜¯ç±»ä¼¼çš„ï¼Œä½†ç”¨å®æ— æ³•å®ç°éšå¼ç±»å‹è½¬åŒ–
- å¯¹ç¼–è¯‘å™¨æ¥è¯´`inline`åªæ˜¯ä¸ªå»ºè®®ï¼Œç¼–è¯‘å™¨æœªå¿…ä¼šå®ç°
- åœ¨ä¸€ä¸ªç±»é‡Œå®šä¹‰bodyçš„å‡½æ•°ï¼Œå®ƒé»˜è®¤æ˜¯`inline`å‡½æ•°
- å¦‚æœåœ¨ç±»é‡Œæ²¡æœ‰å®šä¹‰bodyï¼Œé‚£ä¹ˆè¯¥å‡½æ•°æ˜¯å†…è”å‡½æ•°å½“ä¸”ä»…å½“å‰é¢æœ‰`inline`å…³é”®è¯

## [6.x] const

`const`å¯¹æ•°æ®çš„ä¿æŠ¤å‡ºç°åœ¨**ç¼–è¯‘æ—¶åˆ»**ï¼Œå¦‚æœå¼ºè¡Œé€šè¿‡æŸç§æ‰‹æ®µè·å–å…¶åœ°å€ï¼Œä»ç„¶å¯ä»¥ä¿®æ”¹ï¼Œç¼–è¯‘å™¨ä»…ä»…ä¿è¯`const`ä¿®é¥°è¿‡çš„å˜é‡é™¤äº†å®šä¹‰æ—¶ï¼Œä¸èƒ½ä½œä¸ºå·¦å€¼

- `char * const p;`ä¿®é¥°çš„æ˜¯`p`
- `const char *p;`ä¿®é¥°çš„æ˜¯`*p`
- `char const *p;`ä¿®é¥°çš„æ˜¯`*p`
- `const char * const p;``*p`å’Œ`p`éƒ½è¢«ä¿®é¥°
- `const`å‡ºç°åœ¨`*`å·¦ä¾§ï¼Œä¿®é¥°çš„æ˜¯`*p`
- `const`å‡ºç°åœ¨`*`å³ä¾§ï¼Œä¿®é¥°çš„æ˜¯`p`
- ï¼ˆè‹¥`const char *p = &ch;`ï¼Œè™½ç„¶é€šè¿‡`*p`æ— æ³•æ›´æ”¹æŒ‡ï¼Œä½†`ch`ä»ç„¶å¯ä»¥ä¿®æ”¹ï¼Œè¿›ä¸€æ­¥ä½“ç°è¿™æ˜¯ä¸ªç¼–è¯‘æ—¶åˆ»è¡Œä¸ºï¼‰
- ![](img/1642419437490-7abcbfc1-31df-43c9-a610-eb98b390e80f.png)
- åœ¨è¿™äº›æ€§è´¨ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªé`const`çš„å˜é‡èµ‹å€¼ç»™`const`å˜é‡ï¼ˆç‰¹åˆ«æ˜¯å‡½æ•°ä¼ å‚ï¼‰ï¼Œæ¥æ§åˆ¶æŒ‡é’ˆçš„è¯»å†™æƒé™ï¼ˆå¯ä»¥ç”¨æ¥å‡å°‘ä»£ç å†™é”™çš„æƒ…å†µï¼‰
- ![](img/1642420513803-26fb0bfc-f3ce-4c4e-90c2-a5470d0a9868.png)
- ä¸€ä¸ªè¢«`const`ä¿®é¥°è¿‡çš„å¯¹è±¡çš„æˆå‘˜å‡½æ•°åªæœ‰åœ¨è¯¥å‡½æ•°ä¹Ÿè¢«`const`ä¿®é¥°è¿‡ä¸”ç»è¿‡ç¼–è¯‘å™¨æ£€æµ‹ç¡®å®ä¸ä¿®æ”¹æˆå‘˜å˜é‡çš„æƒ…å†µä¸‹æ‰èƒ½æ‰§è¡Œ
- ![](img/1642421043958-7b65a5cb-81a9-44f6-aec4-881521098c3f.png)
- `int A::fun() const;`å’Œ`int A::fun();`å¯ä»¥æ„æˆoverloadå…³ç³»ï¼Œå› ä¸ºè¿™é‡Œçš„`const`å®é™…ä¸ŠæŒ‡çš„æ˜¯éšè—çš„`A *this`è¢«`const`ä¿®é¥°ï¼Œå‚æ•°è¡¨ä¸åŒï¼Œç¬¦åˆoverloadæ¡ä»¶
  - å½“ä¸Šè¿°ä¸¤ä¸ªå‡½æ•°éƒ½å­˜åœ¨æ—¶ï¼Œå½“ä¸”ä»…å½“å¯¹è±¡è¢«`const`ä¿®é¥°æ‰ä¼šè°ƒç”¨å‰è€…
  - å¦‚æœæˆå‘˜å˜é‡æ˜¯`const`ï¼Œé‚£å¿…é¡»å­˜åœ¨åˆå§‹åŒ–æ–¹æ¡ˆ

## [7.x] static

è™½ç„¶åœ¨å•ä¸ªæ–‡ä»¶å†…ï¼Œé™æ€å…¨å±€å˜é‡çš„å£°æ˜é¡ºåºå¯ä»¥ç¡®è®¤ï¼Œä½†æ–‡ä»¶é—´çš„é¡ºåºæ— æ³•ç¡®è®¤ï¼Œè¿™å¯èƒ½é€ æˆä¾èµ–é—®é¢˜ï¼Œæ‰€ä»¥å°½å¯èƒ½é¿å…å¤šæ–‡ä»¶é™æ€å…¨å±€å˜é‡çš„ä¾èµ–å…³ç³»

- ç±»çš„é™æ€å˜é‡å±äºç±»ä¸å±äºå®ä¾‹ï¼Œä¸èƒ½é€šè¿‡æ­£å¸¸çš„æ–¹å¼åˆå§‹åŒ–ï¼Œå¯ä»¥ç”¨è¿‡èŒƒå›´è§£æè¿ç®—ç¬¦åœ¨å…¨å±€åˆå§‹åŒ–
  - å®é™…ä¸Šï¼Œç¼–è¯‘å™¨å°†å¯¹è±¡å¯¹é™æ€å˜é‡çš„è®¿é—®è‡ªåŠ¨è½¬æ¢æˆäº†ç±»å¯¹é™æ€å˜é‡çš„è®¿é—®ã€‚å› æ­¤ï¼Œå»ºè®®å§‹ç»ˆä½¿ç”¨`className::staticVar`è®¿é—®é™æ€å˜é‡_(_[_xxjjåœ¨è¿™é‡Œè¯´çš„_](https://www.yuque.com/xianyuxuan/coding/cpp-oop#5TeQ9)_)_
  - ç±»çš„é™æ€**å‡½æ•°**ä¸å†å…·æœ‰`this`æŒ‡é’ˆï¼Œä¹Ÿä¸èƒ½ç›´æ¥è®¿é—®éé™æ€æˆå‘˜å˜é‡æˆ–è€…éé™æ€æˆå‘˜å‡½æ•°
  - ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœè¦åœ¨`class`é‡Œå£°æ˜`static`å˜é‡/å‡½æ•°ï¼Œåˆ™åªåœ¨`.h`æ–‡ä»¶ä¸­å‡ºç°å…³é”®å­—ï¼Œä¸è¦åœ¨`.cpp`ä¸­å‡ºç°

## [8.x] å‘½åç©ºé—´namespace & usingå…³é”®å­—

å¯ä»¥ç”¨`namespace`æ¥å°è£…ä»£ç 

```cpp
namespace <Space Name>{
	// å†…å®¹
} 
```

åœ¨ä¹‹åä½¿ç”¨é‡Œé¢çš„å˜é‡/å‡½æ•°éœ€è¦ä½¿ç”¨èŒƒå›´è§£æè¿ç®—ç¬¦`::`ï¼Œå³`<Space Name>::<Function Name>();`

- `using namespace xxx;`åå¯ä»¥çœç•¥`<Space Name>::`ï¼Œä½†æ˜¯è¦æ³¨æ„æ­§ä¹‰é—®é¢˜
- `using xxx::yyy;`åä»…ä»…å¯¹`yyy`æ¥è¯´å¯ä»¥çœç•¥`<Space Name>::`ï¼ŒåŒæ ·è¦æ³¨æ„æ­§ä¹‰é—®é¢˜
- ä¸¤ä¸ªå‘½åç©ºé—´æœ‰ç›¸åŒå‡½æ•°/å˜é‡çš„æ—¶å€™ï¼Œéœ€è¦å†™æ˜å‘½åç©ºé—´
- `namespace x = y;`è¡¨ç¤ºå¯ä»¥ç”¨`x`æ¥è¡¨ç¤ºå‘½åç©ºé—´`y`ï¼Œä½†æ˜¯åœ¨æ­¤å‰`y`å¿…é¡»å·²ç»å®šä¹‰
- `namespace`é‡Œä¹Ÿå¯ä»¥æœ‰`namespace`ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º ç»„åˆ

## [9.x] å·¦å€¼ä¸å³å€¼&å³å€¼å¼•ç”¨

![](img/1642920718226-c93be411-f2e9-4503-a798-d71873475454.png)

![](img/1642920930932-ecac02b4-6806-456f-b962-85c3d9b00f49.png)

![](img/1642921263757-e1ca713e-e00b-49b9-882e-60e7000a7d60.png)